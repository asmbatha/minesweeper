import{S as w,z as K,A as B,B as g,C,D as _,F as E,U as d,g as m,G as H,H as Y,I as k,J as q,i as z,m as I,K as G,E as J,L as Q,M as V,N as Z,O as A,P as D,j,Q as L,o as $,R as W,n as M,T as X,V as p}from"./eK6pSGJK.js";import{s as ee,g as te}from"./Bo9MAY2X.js";function h(t,l=null,o){if(typeof t!="object"||t===null||w in t)return t;const a=k(t);if(a!==K&&a!==B)return t;var i=new Map,c=q(t),b=g(0);c&&i.set("length",g(t.length));var y;return new Proxy(t,{defineProperty(f,e,n){(!("value"in n)||n.configurable===!1||n.enumerable===!1||n.writable===!1)&&C();var s=i.get(e);return s===void 0?(s=g(n.value),i.set(e,s)):_(s,h(n.value,y)),!0},deleteProperty(f,e){var n=i.get(e);if(n===void 0)e in f&&i.set(e,g(d));else{if(c&&typeof e=="string"){var s=i.get("length"),r=Number(e);Number.isInteger(r)&&r<s.v&&_(s,r)}_(n,d),U(b)}return!0},get(f,e,n){var v;if(e===w)return t;var s=i.get(e),r=e in f;if(s===void 0&&(!r||(v=E(f,e))!=null&&v.writable)&&(s=g(h(r?f[e]:d,y)),i.set(e,s)),s!==void 0){var u=m(s);return u===d?void 0:u}return Reflect.get(f,e,n)},getOwnPropertyDescriptor(f,e){var n=Reflect.getOwnPropertyDescriptor(f,e);if(n&&"value"in n){var s=i.get(e);s&&(n.value=m(s))}else if(n===void 0){var r=i.get(e),u=r==null?void 0:r.v;if(r!==void 0&&u!==d)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return n},has(f,e){var u;if(e===w)return!0;var n=i.get(e),s=n!==void 0&&n.v!==d||Reflect.has(f,e);if(n!==void 0||H!==null&&(!s||(u=E(f,e))!=null&&u.writable)){n===void 0&&(n=g(s?h(f[e],y):d),i.set(e,n));var r=m(n);if(r===d)return!1}return s},set(f,e,n,s){var S;var r=i.get(e),u=e in f;if(c&&e==="length")for(var v=n;v<r.v;v+=1){var N=i.get(v+"");N!==void 0?_(N,d):v in f&&(N=g(d),i.set(v+"",N))}r===void 0?(!u||(S=E(f,e))!=null&&S.writable)&&(r=g(void 0),_(r,h(n,y)),i.set(e,r)):(u=r.v!==d,_(r,h(n,y)));var T=Reflect.getOwnPropertyDescriptor(f,e);if(T!=null&&T.set&&T.set.call(s,n),!u){if(c&&typeof e=="string"){var P=i.get("length"),x=Number(e);Number.isInteger(x)&&x>=P.v&&_(P,x+1)}U(b)}return!0},ownKeys(f){m(b);var e=Reflect.ownKeys(f).filter(r=>{var u=i.get(r);return u===void 0||u.v!==d});for(var[n,s]of i)s.v!==d&&!(n in f)&&e.push(n);return e},setPrototypeOf(){Y()}})}function U(t,l=1){_(t,t.v+l)}function F(t){return t!==null&&typeof t=="object"&&w in t?t[w]:t}function ie(t,l){return Object.is(F(t),F(l))}function se(t,l,o=!1){I&&G();var a=t,i=null,c=null,b=d,y=o?J:0,f=!1;const e=(s,r=!0)=>{f=!0,n(r,s)},n=(s,r)=>{if(b===(b=s))return;let u=!1;if(I){const v=a.data===Q;!!b===v&&(a=V(),Z(a),A(!1),u=!0)}b?(i?D(i):r&&(i=j(()=>r(a))),c&&L(c,()=>{c=null})):(c?D(c):r&&(c=j(()=>r(a))),i&&L(i,()=>{i=null})),u&&A(!0)};z(()=>{f=!1,l(e),f||n(null,null)},y),I&&(a=$)}let R=!1,O=Symbol();function fe(t,l,o){const a=o[l]??(o[l]={store:null,source:W(void 0),unsubscribe:M});if(a.store!==t&&!(O in o))if(a.unsubscribe(),a.store=t,t==null)a.source.v=void 0,a.unsubscribe=M;else{var i=!0;a.unsubscribe=ee(t,c=>{i?a.source.v=c:_(a.source,c)}),i=!1}return O in o?te(t):m(a.source)}function ae(){const t={};function l(){X(()=>{for(var o in t)t[o].unsubscribe();p(t,O,{enumerable:!1,value:!0})})}return[t,l]}function ue(t){var l=R;try{return R=!1,[t(),R]}finally{R=l}}export{se as a,fe as b,ue as c,ie as i,h as p,ae as s};
